

# 第二讲

## 03 架构的目的

### 笔记

1. 架构是为了解决软件复杂度提高带来的问题
2. 每种架构都能解决特定的问题，例如，异地数据存储，是因为“数据重要，不允许有闪失”，而同机房主从同步，可能会因为机房的事故，如火灾、地震等导致两个数据库数据都丢失，而异地主从同步显然能更安全

## 04 高性能复杂度

### 笔记

#### 单机复杂度

1. 时间片系统
2. 多进程多线程

#### 集群复杂度

1. 任务分配

   1. 多结点需要一个任务分配的机制（也是个服务器），需要确定分配算法、连接方式等等
   2. 流量增加，继续增加业务结点后，任务分配服务器所承受的流量是所有业务结点的流量和，此时一台任务分配服务器也不够用了，需要拓展成多结点，又会带来全局分配的问题

2. 任务分解

   当业务服务器的业务越来越复杂，性能越来越难以提高，可以考虑将复杂的业务分解成多种业务服务器

   1. 简单的系统更容易提高性能
   2. 可以针对单个子系统拓展
   3. 缺点是，增加了系统之间调用的开销、代码量的增加

## 05 高可用复杂度

### 计算高可用

同高性能集群，需要任务分配和分解