1、物理架构
redis
部署应用
2、
性能：
（1）登录接口 总QPS:100人*50次，9-18点
（2）用户信息读取 总QPS:ygp-oms + 运营平台 oms目前一天http请求量：3.5W
可用性：暂时放在ygp-oms，两台机器



用户模块：
手机、邮箱、账号、企业微信/钉钉
相关表设计：
（1）用户表 + 用户登录方式表（抽象一张表）
（2）用户表 + n张用户第三方拓展表（按第三方拓展，每接入一种新增一张表）
第三方授权登录：
（1）扫码登录 适用web
（2）授权登录 客户端
第三方授权注册：
通过第三方api获取用户信息后，生成用户表信息

鉴权模块：
（1）统一登录接口：支持自定义过期时间
用户登录态存储：
（1）放缓存中间件，各自到缓存中取，业务应用只读不写
（2）java应用可封装sdk，考虑shiro的二次封装（即封装Shiro的Realm、业务应用的鉴权、用户信息的获取）


基础查询模块：
（1）用户基本信息
（2）用户第三方平台信息


权限模块
用户-角色=M:N
角色-功能=M:N
（1）功能分为菜单、按钮
（2）功能需要加上应用吗？1、多加字段，业务应用根据自身业务系统筛选权限 2、业务系统作为第一级菜单
（3）数据权限

加密方式
（1）后台系统，简单MD5加密

服务对象
（1）业务应用
（2）app等客户端
（3）web
（4）openapi-第三方应用

拓展功能：
（1）消息中心
（2）oa审批对接、组织架构


TODO：
1、不同系统设置不同的管理员
2、接管外部系统登录（蚁城等），内部系统权限统一在uuc设置
3、监听企业微信员工状态，新增/无效账号

9月8之前
1、登录/获取用户信息
2、账号初始化